<form [formGroup]="form" (submit)="onSubmit()">

  <!-- Name -->
  <mat-form-field appearance="outline">
    <mat-label>Account name</mat-label>
    <input formControlName="name" matInput>
    @if (form.get('name')?.touched && form.get('name')?.invalid ) {
      <mat-error>This field cannot be empty</mat-error>
    }
  </mat-form-field>

  <!-- Code -->
  <mat-form-field  appearance="outline">
    <mat-label>Account code</mat-label>
    <input formControlName="code" matInput>
    @if ( form.get('code')?.touched && form.get('code')?.invalid ){
      <mat-error>This field cannot be empty</mat-error>
    }
  </mat-form-field>

  <!-- Type -->
  <mat-form-field appearance="outline">
    <mat-label>Account type</mat-label>
    <mat-select formControlName="accountType">
      <mat-option value="ASSET">Assets</mat-option>
      <mat-option value="LIABILITY">Liabilities</mat-option>
      <mat-option value="EQUITY">Equity</mat-option>
      <mat-option value="INCOME">Income</mat-option>
      <mat-option value="EXPENSE">Expenses</mat-option>
    </mat-select>
    @if (form.get('type')?.invalid){
      <mat-error>This field cannot be empty</mat-error>
    }
  </mat-form-field>

  <!-- Deprecated -->
  @if (isUpdate()){
    <div class="block">
      <mat-checkbox formControlName="deprecated">This account is deprecated</mat-checkbox>
    </div>
  }

  <div class="buttons">
    <button type="submit" [disabled]="form.invalid" matButton="filled">Save</button>
    <button type="button" (click)="onCancel()" matButton>Cancel</button>
  </div>


</form>
